<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FinTracker</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- SheetJS for Excel export -->
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
</head>
<body>
    <header>
        <div class="header-content">
            <h1><i class="fas fa-piggy-bank"></i>FinTracker</h1>
            <p>Smart financial management at your fingertips</p>
        </div>
    </header>

    <main>
        <div class="container">
            <!-- Budget Section -->
            <section class="budget-section">
                <h2><i class="fas fa-wallet"></i> Monthly Budget</h2>
                <div class="budget-info">
                    <div class="budget-amount">
                        <label for="budget-amount">Set Monthly Budget (₹)</label>
                        <div class="input-group">
                            <span class="currency-symbol">₹</span>
                            <input type="number" id="budget-amount" placeholder="Enter budget" step="0.01" min="0">
                        </div>
                        <button id="set-budget-btn" class="submit-btn"><i class="fas fa-check"></i> Set Budget</button>
                    </div>
                    <!-- Budget Summary Display -->
                    <div class="budget-summary" id="budget-summary" style="display: none;">
                        <div class="summary-grid">
                            <div class="summary-card">
                                <div class="summary-icon bg-gold">
                                    <i class="fas fa-coins"></i>
                                </div>
                                <div class="summary-details">
                                    <span class="summary-label">Current Budget</span>
                                    <span class="summary-value" id="current-budget">₹0.00</span>
                                </div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-icon bg-red">
                                    <i class="fas fa-shopping-cart"></i>
                                </div>
                                <div class="summary-details">
                                    <span class="summary-label">Total Spent</span>
                                    <span class="summary-value" id="total-spent">₹0.00</span>
                                </div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-icon bg-green">
                                    <i class="fas fa-piggy-bank"></i>
                                </div>
                                <div class="summary-details">
                                    <span class="summary-label">Remaining</span>
                                    <span class="summary-value" id="remaining-amount">₹0.00</span>
                                </div>
                            </div>
                        </div>
                        <div class="budget-progress-container">
                            <div class="progress-label">
                                <span>Budget Utilization</span>
                                <span id="utilization-percent">0%</span>
                            </div>
                            <div class="budget-progress-bar">
                                <div class="progress-fill" id="progress-fill"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Income Tracking Section -->
            <section class="income-section">
                <h2><i class="fas fa-money-bill-wave"></i> Income Tracking</h2>
                <form id="income-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="income-amount">Amount (₹)</label>
                            <div class="input-group">
                                <span class="currency-symbol">₹</span>
                                <input type="number" id="income-amount" placeholder="0.00" step="0.01" min="0" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="income-source">Source</label>
                            <input type="text" id="income-source" placeholder="Salary, Freelance, etc." required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="income-date">Date</label>
                        <input type="date" id="income-date" required>
                    </div>
                    <button type="submit" class="submit-btn"><i class="fas fa-plus"></i> Add Income</button>
                </form>
                <div class="net-savings">
                    <h3>Net Savings: <span id="net-savings-value">₹0.00</span></h3>
                </div>
            </section>

            <!-- Savings Goals Section -->
            <section class="goals-section">
                <h2><i class="fas fa-bullseye"></i> Savings Goals</h2>
                <form id="goal-form">
                    <div class="form-group">
                        <label for="goal-name">Goal Name</label>
                        <input type="text" id="goal-name" placeholder="e.g., Vacation, Emergency Fund" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="goal-amount">Target Amount (₹)</label>
                            <div class="input-group">
                                <span class="currency-symbol">₹</span>
                                <input type="number" id="goal-amount" placeholder="0.00" step="0.01" min="0" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="goal-current">Current Savings (₹)</label>
                            <div class="input-group">
                                <span class="currency-symbol">₹</span>
                                <input type="number" id="goal-current" placeholder="0.00" step="0.01" min="0" value="0">
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="submit-btn"><i class="fas fa-plus"></i> Add Goal</button>
                </form>
                <div id="goals-container">
                    <p>No savings goals set yet.</p>
                </div>
            </section>

            <!-- Expense Form -->
            <section class="form-section">
                <h2><i class="fas fa-receipt"></i> Add New Expense</h2>
                <form id="expense-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="amount">Amount (₹)</label>
                            <div class="input-group">
                                <span class="currency-symbol">₹</span>
                                <input type="number" id="amount" placeholder="0.00" step="0.01" min="0" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="category">Category</label>
                            <div class="select-wrapper">
                                <select id="category" required>
                                    <option value="">Select Category</option>
                                    <option value="Food">Food</option>
                                    <option value="Travel">Travel</option>
                                    <option value="Entertainment">Entertainment</option>
                                    <option value="Utilities">Utilities</option>
                                    <option value="Healthcare">Healthcare</option>
                                    <option value="Shopping">Shopping</option>
                                    <option value="Other">Other</option>
                                </select>
                                <button type="button" id="add-category-btn" class="small-btn">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="description">Description</label>
                        <input type="text" id="description" placeholder="What was this expense for?" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="date">Date</label>
                            <input type="date" id="date" required>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="recurring"> 
                                <span class="checkbox-label">Recurring Expense</span>
                            </label>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="split-expense"> 
                                <span class="checkbox-label">Split Expense</span>
                            </label>
                        </div>
                        <!-- Empty div to maintain grid layout -->
                        <div></div>
                    </div>
                    <div class="form-group" id="split-expense-group" style="display: none;">
                        <label for="split-with">Split With (comma separated names)</label>
                        <input type="text" id="split-with" placeholder="e.g., John, Jane, Mike">
                    </div>
                    <button type="submit" class="submit-btn"><i class="fas fa-plus"></i> Add Expense</button>
                </form>
            </section>

            <!-- Smart Suggestions -->
            <section class="suggestions-section">
                <h2><i class="fas fa-lightbulb"></i> Smart Insights</h2>
                <div id="suggestions-container">
                </div>
                <!-- AI Expense Analysis Button -->
                <button id="ai-analyze-btn" class="submit-btn" style="margin-top: 1rem;">
                    <i class="fas fa-robot"></i> Analyze My Expenses with AI
                </button>
            </section>

            <!-- Charts Section -->
            <section class="charts-section">
                <h2><i class="fas fa-chart-pie"></i> Spending Analysis</h2>
                <div class="charts-container">
                    <div class="chart-wrapper">
                        <h3>By Category</h3>
                        <canvas id="category-chart"></canvas>
                    </div>
                    <div class="chart-wrapper">
                        <h3>Over Time</h3>
                        <canvas id="trend-chart"></canvas>
                    </div>
                    <div class="chart-wrapper">
                        <h3>Savings Progress</h3>
                        <canvas id="savings-chart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Data Export Section -->
            <section class="export-section">
                <h2><i class="fas fa-file-export"></i> Export Data</h2>
                <div class="export-buttons">
                    <button id="export-csv" class="submit-btn"><i class="fas fa-file-excel"></i> Export as Excel</button>
                    <button id="export-excel" class="submit-btn"><i class="fas fa-file-alt"></i> Export as Text File</button>
                </div>
            </section>

            <!-- Expense List -->
            <section class="expenses-section">
                <h2><i class="fas fa-list"></i> Recent Expenses</h2>
                <div id="expenses-container">
                    <p>No expenses recorded yet.</p>
                </div>
            </section>

            <!-- Income List -->
            <section class="income-list-section">
                <h2><i class="fas fa-list"></i> Recent Income</h2>
                <div id="income-container">
                    <p>No income recorded yet.</p>
                </div>
            </section>
        </div>
    </main>

    <footer>
        <p>Session started: <span id="session-info"></span></p>
    </footer>

    <script src="script.js"></script>
</body>
</html>


